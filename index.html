<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Traffic Simulation with the NaSch-Model</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:300" rel="stylesheet">
    <link rel="stylesheet" href="dist/style.min.css">
</head>
<body>

<header>

    <h1>Nagel-Schreckenberg-Modell</h1>

</header>

<section id="controls">

    <div id="inputelements">

        <div class="row">
            <span class="inputfield">
                <label for="generationsInput">Anzahl Generationen</label>
                <input id="generationsInput" type="number" min="0" max="1000" value="50"/>
            </span>

            <span class="inputfield">
                <label for="densityInput">Verkehrsdichte</label>
                <input id="densityInput" type="number" step="0.1" min="0.0" max="1.0" value="0.4"/>
            </span>

            <span class="inputfield">
                <label for="cellsInput">Anzahl der Zellen</label>
                <input id="cellsInput" type="number" min="0" max="100" value="50"/>
            </span>
        </div>
        <div class="row">

            <span class="inputfield">
                <label for="dawdleInput">Tr√∂del-Wahrscheinlichkeit</label>
                <input id="dawdleInput" type="number" step="0.1" min="0.0" max="1.0" value="0.3"/>
            </span>

            <span class="inputfield">
                <label for="maxSpeedInput">Maximal-Geschwindigkeit</label>
                <input id="maxSpeedInput" type="number" min="0" max="20" value="5"/>
            </span>
        </div>
        <div class="row">

        <span class="inputfield">
                <label for="carsInput">Anzahl der Autos (berechnet)</label>
                <input id="carsInput" type="number" disabled="disabled"/>
            </span>
        </div>

        <div class="row">
            <button id="startButton">Simulation starten</button>
        </div>
    </div>
</section>

<div id="canvasWrapper">
</div>
<!--
<script type="text/javascript" src="./dist/application.min.js"></script>
-->
<script type="text/javascript" src="app/js/_car.js"></script>
<script type="text/javascript" src="app/js/_draw.js"></script>
<script type="text/javascript" src="app/js/_generate.js"></script>
<script type="text/javascript" src="app/js/main.js"></script>
<script>

    window.addEventListener("load", updateAmountOfCars);
    document.getElementById("startButton").addEventListener("click", startSimulation);
    document.getElementById("densityInput").addEventListener("change", updateAmountOfCars);
    document.getElementById("cellsInput").addEventListener("change", updateAmountOfCars);

    function updateAmountOfCars() {
        document.getElementById("carsInput").value = Math.floor(parseInt(document.getElementById("cellsInput").value) * document.getElementById("densityInput").value);
    }

</script>
</body>
</html>
